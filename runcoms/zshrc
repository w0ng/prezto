#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#   Andrew Wong <wongadev@gmail.com>
#

#
# Source Prezto.
#

if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

#
# Use GNU for ls on OSX. gdircolors is installed via `brew install coreutils`.
#

if is-callable 'gdircolors'; then
  if [[ -s "$HOME/.dir_colors" ]]; then
    eval "$(gdircolors --sh "$HOME/.dir_colors")"
  else
    eval "$(gdircolors --sh)"
  fi
fi

#
# Disable flow control
#

setopt noflowcontrol

#
# Personalised key bindings
#

autoload -Uz up-line-or-beginning-search
autoload -Uz down-line-or-beginning-search
zle -N up-line-or-beginning-search
zle -N down-line-or-beginning-search
bindkey -M viins '^N' down-line-or-beginning-search
bindkey -M viins '^P' up-line-or-beginning-search
bindkey -M viins 'jj' vi-cmd-mode

#
# Aliases
#

alias grep='grep --color=auto'
alias ix="curl -n -F 'f:1=<-' http://ix.io"
#alias ls='ls -hFG'
alias ls='/usr/local/bin/gls -hFH --group-directories-first --color=auto'
alias sprunge="curl -F 'sprunge=<-' http://sprunge.us"
alias tm="tmux attach-session -d -t 0"
